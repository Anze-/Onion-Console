<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/iron-pages/iron-pages.html">
<link rel="import" href="/lib/iron-icons/iron-icons.html">
<link rel="import" href="/elements/onion-app/onion-app.html">
<link rel="import" href="/elements/bootstrap-pills/bootstrap-pills.html">
<link rel="import" href="./onion-setting-home.html">
<link rel="import" href="./onion-setting-update.html">


<dom-module id="onion-settings">
	<style>
		:host {
			height: 100%;
			width: 100%;
			--bootstrap-pill-border-radius: 0;
			--bootstrap-pill-background-color: #ecf0f1;
			--bootstrap-pill-color: #373a3c;
		}

		onion-app-body > div {
			height: 100%;
			width: 100%;
		}

		#side-bar {
			width: 250px;
			height: 100%;
			position: relative;
			background-color: #fff;
		}
			#side-bar bootstrap-pill iron-icon {
			margin-right: 5px;
		}
			
		iron-pages {
			width: 100%;
			height: 100%;
			background-color: #ecf0f1;
		}
	</style>

	<template>
		<onion-app app-name="Settings" toolbar-color="#fff" toolbar-background="#7f8c8d">
			<onion-app-body>
				<div class="horizontal layout">
					<div id="side-bar">
						<bootstrap-pills stacked>
							<bootstrap-pill active><iron-icon icon="icons:home"></iron-icon><span>Settings Home</span></bootstrap-pill>
							<bootstrap-pill><iron-icon icon="icons:system-update-alt"></iron-icon><span>Update & Restore</span></bootstrap-pill>
						</bootstrap-pills>
					</div>

					<iron-pages id="settingContainer" attr-for-selected="id" selected="{{currentSetting}}">
						<onion-setting-home id='onion-setting-home'></onion-setting-home>
						<onion-setting-update id="onion-setting-update"></onion-setting-update>
					</iron-pages>
				</div>
			</onion-app-body>
		</onion-app>
	</template>

	<script>
		'use strict';

		(function () {
			var ready = function () {
				this.title = 'Omega Settings';
				this.currentSetting = 'onion-setting-home';

			};

			var onShowAll = function () {
				this.fire('switchSetting', {settingId: 'onion-setting-home'});
			};

			var switchSetting = function (e) {
				var settingId = e.detail.settingId;
				this.currentSetting = settingId;
			};

			Polymer({
				is: 'onion-settings',
				ready: ready,
				behaviors: [Onion.AppBehavior],
				switchSetting: switchSetting,
				onShowAll: onShowAll,
				listeners: {
					switchSetting: 'switchSetting'
				}

			});
        })();
	</script>

</dom-module>
