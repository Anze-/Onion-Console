<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/core-toolbar/core-toolbar.html">
<link rel="import" href="/lib/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/lib/core-icons/core-icons.html">
<link rel="import" href="/elements/onion-userbox.html">
<link rel="import" href="/elements/onion-app-icon.html">

<polymer-element name="onion-app-frame" attributes="appColor">
	<template>
		<style>
			:host {
				display: block;
				height: 100%;
				width: 100%;
			}
            core-toolbar {
				background-color: {{appColor}};
				color: #fff;
				/*height: 50px;*/
			}
			.app-title{
				margin-right: 20px;
			}

			app-tools{
				/*width: 100%;*/
				margin-left: 40px;
			}

		</style>

		<core-header-panel layout>
			<core-toolbar>

				<paper-icon-button icon="apps" on-tap="{{onHome}}"></paper-icon-button>

				<div flex layout horizontal center>
					<div class="app-title">
						{{title}}
					</div>
					<content select="app-tools" flex></select>
				</div>

				<onion-userbox></onion-userbox>

			</core-toolbar>

			<content select="app-body"></content>

		</core-header-panel>
	</template>

	<script>
		'use strict';

		var ready = function () {
			this.appColor = this.appColor || 'rgba(255, 255, 255, 0.25)';
		};

		var onHome = function (e) {
			this.fire('launchApp', { appId: 'onion-launcher' });
		};


		Polymer({
			ready: ready,
            onHome: onHome
		});
	</script>

</polymer-element>
