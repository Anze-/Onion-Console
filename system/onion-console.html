<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/iron-flex-layout/classes/iron-flex-layout.html">
<!-- <link rel="import" href="/lib/iron-pages/iron-pages.html"> -->
<link rel="import" href="./onion-taskbar.html">
<link rel="import" href="./services/onion-apps-provider.html">
<link rel="import" href="./services/onion-deviceinfo-provider.html">
<dom-module id="onion-console">
	<style>
	:host {
      display: block;
      border: 1px solid red;
    }

	</style>

	<template>

		<onion-taskbar class="fullbleed"></onion-taskbar>


		<!-- <iron-pages id="appContainer" valueattr="id" selected="{{currentApp}}"> -->
			<!-- <onion-launcher id="launcher" deviceId="{{deviceId}}" deviceName="{{deviceName}}" apps="{{apps}}"></onion-launcher> -->
		<!-- </iron-pages> -->
	</template>

	<script>
		'use strict';


		var ready = function () {
			this.deviceInfo = document.createElement('onion-deviceinfo-provider');
			this.apps = document.createElement('onion-apps-provider');

			console.log(this.deviceInfo.getInfo());
			console.log(this.apps.getApps());
			// this.deviceInfo = this.$.deviceinfo.getInfo();
		// 	this.appContainer = this.$.appContainer;
		// 	this.deviceId = '0506D6';
		// 	this.deviceName = 'Onion Omega ' + this.deviceId;

		// 	// Set up event listener to child apps
		// 	this.addEventListener('launchApp', function(e){
		// 		this.launchApp(e.detail);
		// 	});

		// 	this.launchApp({appId: 'onion-launcher'});
		};

		// var launchApp = function (app) {
		// 	var	appId = app.appId;

		// 	if (this.appContainer.querySelector(appId)) {
		// 		this.currentApp = appId;
		// 	} else {
		// 		var self = this;

		// 		Polymer.import(['/elements/apps/' + appId + '/' + appId + '.html'], function () {
		// 			var appElement = document.createElement(appId);
		// 			appElement.setAttribute('id', appId);
		// 			appElement.setAttribute('deviceId', self.deviceId);
		// 			appElement.setAttribute('deviceName', self.deviceName);
		// 			self.appContainer.appendChild(appElement);

		// 			self.currentApp = appId;
		// 		});
		// 	}
		// };

		Polymer({
			is: "onion-console",
			ready: ready,
			// launchApp: launchApp,
		});

	</script>

</dom-module>
