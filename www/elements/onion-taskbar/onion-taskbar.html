<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/iron-icons/iron-icons.html">

<dom-module id="onion-taskbar">
	<style>
		:host {
			display: block;
			height: 30px;
			width: 100%;
		}

		.selected {
			color: red;
		}
	</style>

	<template>
		<div class="layout horizontal center">

			<template id="tasks" is="dom-repeat" items="{{runningApps}}" observe="{{currentApp}}" hide>
				<button on-click="launch" data-appId="{{item}}" class$="{{_isActive(item,currentApp)}}"> 
					<span>{{item}}</span>
				 </button>
			</template>

		</div>
	</template>

	<script>
		'use strict';

		(function () {
			var self = null;

			var created = function () {
				self = this;
			}

			var attached = function(){
			}

			var launch = function(e){
				var appId = e.model.item;
				onionConsole.launchApp(appId);
			}

			var _isActive = function(item, currentApp){
				if (item === currentApp){
					return "selected";
				}else{
					return "";
				}
			}



			Polymer({
				is: 'onion-taskbar',
				created: created,
				attached: attached,
				launch: launch,
				_isActive: _isActive,
				properties: {
					runningApps: {
						type: Array,
						notify: true,
						value: []
					},
					currentApp: {
						type: String,
						notify: true,
						value: '',
					}
				},
			});
		})();
	</script>

</dom-module>
