<link rel="import" href="/lib/polymer/polymer.html">

<dom-module id="bootstrap-alert">
	<style>
		.alert {
			padding: 15px;
			margin-bottom: 1rem;
			border: 1px solid transparent;
			border-radius: .25rem;
		}

		.alert > p,
		.alert > ul {
			margin-bottom: 0;
		}

		.alert > p + p {
			margin-top: 5px;
		}

		.alert-heading {
			margin-top: 0;
			color: inherit;
		}

		.alert-link {
			font-weight: bold;
		}

		.alert-dismissible {
			padding-right: 35px;
		}

		.alert-dismissible .close {
			position: relative;
			top: -2px;
			right: -21px;
			color: inherit;
		}

		.alert-success {
			color: #3c763d;
			background-color: #dff0d8;
			border-color: #d0e9c6;
		}

		.alert-success hr {
			border-top-color: #c1e2b3;
		}

		.alert-success .alert-link {
			color: #2b542c;
		}

		.alert-info {
			color: #31708f;
			background-color: #d9edf7;
			border-color: #bcdff1;
		}

		.alert-info hr {
			border-top-color: #a6d5ec;
		}

		.alert-info .alert-link {
			color: #245269;
		}

		.alert-warning {
			color: #8a6d3b;
			background-color: #fcf8e3;
			border-color: #faf2cc;
		}

		.alert-warning hr {
			border-top-color: #f7ecb5;
		}

		.alert-warning .alert-link {
			color: #66512c;
		}

		.alert-danger {
			color: #a94442;
			background-color: #f2dede;
			border-color: #ebcccc;
		}

		.alert-danger hr {
			border-top-color: #e4b9b9;
		}

		.alert-danger .alert-link {
			color: #843534;
		}

		.alert ::content > *:last-child {
			margin-bottom: 0;
		}
	</style>
	
	<template>
		<div class$="[[_computeClass(success, info, warning, danger)]]" role="alert">
			<template is="dom-if" if="{{!noClose}}">
				<button type="button" class="close" on-click="_close">&times;</span></button>
			</template>
			<content></content>
		</div>
	</template>

	<script>
		'use strict';

		(function () {
			var self = null;

			var created = function () {
				self = this;
			};

			var _computeClass = function (success, info, warning, danger) {
				var elementClass = 'alert';

				if (danger) {
					elementClass += ' alert-danger';
				} else if (warning) {
					elementClass += ' alert-warning';
				} else if (info) {
					elementClass += ' alert-info';
				} else if (success) {
					elementClass += ' alert-success';
				}

				return elementClass;
			};

			var _close = function () {
				self.remove();
			};

			Polymer({
	    		is: 'bootstrap-alert',
	    		created: created,
	    		properties: {
	    			success: {
		    			notify: true,
				        type: Boolean,
				        value: false
		    		},
		    		info: {
		    			notify: true,
				        type: Boolean,
				        value: false
		    		},
		    		warning: {
		    			notify: true,
				        type: Boolean,
				        value: false
		    		},
		    		danger: {
		    			notify: true,
				        type: Boolean,
				        value: false
		    		},
		    		noClose: {
		    			type: Boolean,
		    			value: false
		    		}
	    		},
	    		_computeClass: _computeClass,
	    		_close: _close
	    	});
        })();
	</script>
</dom-module>