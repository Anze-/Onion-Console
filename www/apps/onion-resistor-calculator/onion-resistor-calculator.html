<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/elements/onion-app/onion-app.html">
<link rel="import" href="/lib/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="/elements/bootstrap-dropdown/bootstrap-dropdown.html">

<dom-module id="onion-resistor-calculator">
	<style>
		:host {
		    display: block;
	  	    height: 100%;
			width: 100%;
		}

		onion-app-body > div {
			height: 100%;
			width: 100%;
		}

		#container {
			width: 600px;
			padding: 30px;
			border-radius: 5px;
			background-color: #fff;
		}

		select + select {
			margin-left: -1px;
		}

		#resistor {
			background-image: url('./img/resistor-bg.png');
			background-size: contain;
			background-position: center center;
			background-repeat: no-repeat;
			width: 300px;
			height: 75px;
			position: relative;
			margin-top: 15px;
			margin-bottom: 15px;
		}
	</style>

	<template>
		<onion-app app-name="Resistor Calculator" toolbar-color="#fff" toolbar-background="#d35400" background="#f2f2f2">
			<onion-app-toolbar>

			</onion-app-toolbar>

			<onion-app-body>
				<div class="horizontal center-justified layout center">
					<div id="container">
						<div class="horizontal center-justified layout">
							<div class="btn-group" role="group" aria-label="Basic example">
								<button type="button" class$="{{_computeActiveSwitch(band, 4)}}" on-tap="_selectBand" data-band="4">Four-Band</button>
								<button type="button" class$="{{_computeActiveSwitch(band, 5)}}" on-tap="_selectBand" data-band="5">Five-Band</button>
								<button type="button" class$="{{_computeActiveSwitch(band, 6)}}" on-tap="_selectBand" data-band="6">Six-Band</button>
							</div>
						</div>

						<div class="horizontal center-justified layout">
							<div id="resistor">

							</div>
						</div>

						<div class="horizontal center-justified layout">
							<select class="c-select">
								<option selected>Color</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="3">Orange</option>
								<option value="4">Yellow</option>
								<option value="5">Green</option>
								<option value="6">Blue</option>
								<option value="7">Violet</option>
								<option value="8">Gray</option>
								<option value="9">white</option>
							</select>
							<select class="c-select">
								<option selected>Color</option>
								<option value="0">Black</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="3">Orange</option>
								<option value="4">Yellow</option>
								<option value="5">Green</option>
								<option value="6">Blue</option>
								<option value="7">Violet</option>
								<option value="8">Gray</option>
								<option value="9">white</option>
							</select>
							<select class="c-select" hidden$="{{_computeRowHidden(band, 5)}}">
								<option selected>Color</option>
								<option value="0">Black</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="3">Orange</option>
								<option value="4">Yellow</option>
								<option value="5">Green</option>
								<option value="6">Blue</option>
								<option value="7">Violet</option>
								<option value="8">Gray</option>
								<option value="9">white</option>
							</select>
							<select class="c-select">
								<option selected>Color</option>
								<option value="0">Black</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="3">Orange</option>
								<option value="4">Yellow</option>
								<option value="5">Green</option>
								<option value="6">Blue</option>
								<option value="7">Gold</option>
								<option value="7">Silver</option>
							</select>
							<select class="c-select">
								<option selected>Color</option>
								<option value="0">Black</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="3">Orange</option>
								<option value="4">Yellow</option>
								<option value="7">Gold</option>
								<option value="7">Silver</option>
							</select>
							<select class="c-select" hidden$="{{_computeRowHidden(band, 6)}}">
								<option selected>Color</option>
								<option value="1">Brown</option>
								<option value="2">Red</option>
								<option value="7">Gold</option>
								<option value="7">Silver</option>
							</select>
						</div>
					</div>
				</div>
			</onion-app-body>
		</onion-app>

	</template>

	<script>
		'use strict';

		(function () {
			var self = null;

			var _selectBand = function (e) {
				this.band = parseInt(e.target.dataset.band);
			};

			var _computeActiveSwitch = function (band, btnData) {
				var className = 'btn btn-secondary';

				if (band === btnData) {
					className += ' active';
				}

				return className;
			};

			var _computeRowHidden = function (band, rowData) {
				return (band >= rowData) ? false: true;
			};

			Polymer({
				is: 'onion-resistor-calculator',
				ready: function () {},
				behaviors: [Onion.AppBehavior],
				_selectBand: _selectBand,
				_computeActiveSwitch: _computeActiveSwitch,
				_computeRowHidden: _computeRowHidden,
				properties: {
					apps: {
						type: Array,
						value: []
					},
					band: {
						type: Number,
						value: 4,
						notify: true
					},
					bands: {
						type: Array,
						value: [
							null, // Hundred
							null, // Ten
							null, // One
							null, // Multipier
							null, // Tolerance
							null  // PPM
						],
						notify: true
					}
				}
			});
		})();
	</script>

</dom-module>
